{% extends 'base.html.twig' %}

{% block body %}

<div class="jumbotron">

    <h1>symfony/workflow</h1>

    <p>

        This application is a demo to see how the <a href="https://symfony.com/doc/current/components/workflow.html"
                                                     target="_blank">symfony/workflow</a> component
        works, and what you can do with.
        <br/>
        The code is hosted on <a href="https://github.com/lyrixx/SFLive-Paris2016-Workflow"
                                 target="_blank">Github</a>
        and it's deployed on <a href="https://symfony-workflow-demo.herokuapp.com" target="_blank">Heroku</a>

    </p>

    <div class="row">
        <div class="col-md-6">
                        <h3>Workflows configurations</h3>
                        {% for code, config in workflowsConfiguration %}
                            <h4>{{ code }}</h4>
                            <ul>
                                <li>
                                    Initial Marking: {{ config.initial_marking|join(',') }}

                                </li>
                                <li>
                                    Places: {{ config.places|map( (place) => place.name)|join(',') }}
                                </li>
                                <li>
                                    Supports: {{ config.supports|join(',') }}
                                </li>

                            </ul>
{#                            {{ dump(config) }}#}
{#                            {% for workflow in workflowsInClass %}#}
{#                                <h4>Workflow: {{ workflow.name }}, class: {{ class }}</h4>#}
{#                                <ul>#}
{#                                    {% for place in workflow.definition.places %}#}
{#                                        <li>{{ place }}</li>#}
{#                                    {% endfor %}#}
{#                                </ul>#}
{#                            {% endfor %}#}
                        {% endfor %}
        </div>
        <div class="col-md-6">
            <h3>{{ workflowsByTaggedIterator|length }} Workflows from Tagged Iterator</h3>
            {% for workflow in workflowsByTaggedIterator %}
                <h4>Workflow: {{ workflow.name }}, class: {{ workflowsConfiguration[workflow.name].supports|join(', ') }}</h4>
                <ul>
                    {% for place in workflow.definition.places %}
                        <li>{{ place }}</li>
                    {% endfor %}
                </ul>
            {% endfor %}

        </div>
    </div>

    <div class="row">

    </div>

    {% endblock %}
